"use strict";var app=angular.module("Select",[]);app.controller("SelectController",["$scope","$http",function(a,b){var c=a;c.selectedQs=-1,c.iteration=1,c.questions=[],c.otherAnswsers={},c.answers={},c.comments={},c.optLabels=["A","B","C","D","E"],c.sent={},c.init=function(){c.loadQuestions(),c.loadAnswers(),c.getIteration()},c.getIteration=function(){b({url:"get-team-iteration",method:"post"}).success(function(d){c.iteration=d.iteration,1<c.iteration&&b({url:"get-team-selection",method:"post"}).success(function(){;})})},c.loadQuestions=function(){b({url:"get-questions",method:"post"}).success(function(d){c.questions=d,c.questions.forEach(function(e){e.options=e.options.split("\n")})})},c.loadAnswers=function(){b({url:"get-answers",method:"post"}).success(function(d){d.forEach(function(e){c.answers[e.qid]=e.answer,c.comments[e.qid]=e.comment,c.sent[e.qid]=!0})})},c.setAnswer=function(d,e){c.answers[d]=e},c.selectQuestion=function(d){c.selectedQs=d},c.nextQuestion=function(){c.selectedQs>=c.questions.length-1||c.selectQuestion(seld.selectedQs+1)},c.prevQuestion=function(){0>=c.selectedQs||c.selectQuestion(seld.selectedQs-1)},c.sendAnswer=function(d){var e={qid:d,answer:c.answers[d],comment:c.comments[d],iteration:1};b({url:"send-answer",method:"post",data:e}).success(function(f){"ok"==f.status&&(c.sent[e.qid]=!0)})},c.init()}]);